<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Edytuj profil</title>
</head>
<body>

<div th:if="${error}">
    <p th:text="${error}"></p>
</div>
<div>
    <div th:if="${successMessage}">
        <p th:text="${successMessage}"></p>
    </div>
</div>

            <div>
                <label for="firstName"><strong>Imię:</strong></label>
                <p id="firstName" th:text="${userDetails.firstName}">Jan</p>
            </div>
            <div>
                <label for="lastName"><strong>Nazwisko:</strong></label>
                <p id="lastName" th:text="${userDetails.lastName}">Kowalski</p>
            </div>
            <div>
                <label for="company"><strong>Firma:</strong></label>
                <p id="company" th:text="${userDetails.companyName}">NewTechnologiesComp</p>
            </div>

            <div>
                <label for="role"><strong>Typ konta:</strong></label>
                <p id="role" th:text="${userDetails.role}">Administrator</p>
            </div>
            <div>
                <label for="currentEmail"><strong>Aktualny email:</strong></label>
                <p id="currentEmail" th:text="${userDetails.email}">jankowalski@wp.pl</p>
            </div>



<form th:action="@{/profile/change-email}" method="post" th:object="${emailChangeDto}">
    <input type="hidden" name="userId" th:field="*{userId}" th:value="${userDetails.id}"/>
    <div>
        <label for="email"><strong>Nowy e-mail:</strong></label>
        <input type="email" id="email" th:field="*{newEmail}" placeholder="Wprowadź nowy adres e-mail" required />
    </div>
    <div>
        <label for="currentPasswordForEmail"><strong>Hasło:</strong></label>
        <input type="password" id="currentPasswordForEmail" th:field="*{currentPassword}" placeholder="Wprowadź hasło" required />
    </div>
    <div>
        <button type="submit">Zmień e-mail</button>
    </div>
</form>

<form th:action="@{/profile/change-password}" method="post" th:object="${passwordChangeDto}">
    <input type="hidden" name="userId" th:field="*{userId}" th:value="${userDetails.id}"/>
    <div>
        <label for="password"><strong>Nowe hasło:</strong></label>
        <input type="password" id="password" th:field="*{newPassword}" placeholder="Wprowadź nowe hasło" required />
    </div>
    <div>
        <label for="confirmNewPassword"><strong>Potwierdź nowe hasło</strong></label>
        <input type="password" id="confirmNewPassword" th:field="*{confirmedNewPassword}" placeholder="Wprowadź ponownie nowe hasło" required />
    </div>
    <div>
        <label for="currentPassword"><strong>Obecne hasło</strong></label>
        <input type="password" id="currentPassword" th:field="*{currentPassword}" placeholder="Wprowadź obecne hasło" required />
    </div>
    <div>
        <button type="submit">Zmień hasło</button>
    </div>
</form>



</body>
</html>